# Руководство по админ-панели Suntier

## Запуск проекта

### Установка зависимостей
```bash
cd suntier
npm install
```

### Запуск в режиме разработки

**Вариант 1: Запуск всего сразу (рекомендуется)**
```bash
npm run dev:all
```
Это запустит одновременно:
- Vite dev server (фронтенд) на http://localhost:5173
- API server (бэкенд) на http://localhost:3001

**Вариант 2: Запуск по отдельности**

Терминал 1 - Фронтенд:
```bash
npm run dev
```

Терминал 2 - API сервер:
```bash
npm run server
```

## Доступ к админке

Для доступа к админ-панели:
1. Войдите с именем пользователя `admin` на странице `/auth`
2. После входа в хедере появится кнопка "⚙️ Админка"
3. Перейдите по адресу `/admin` или нажмите на кнопку

## Функции админки

### 1. Добавление игрока
- Введите имя игрока в поле "Имя игрока"
- Нажмите кнопку "Добавить" или Enter
- Новый игрок появится в списке без режимов

### 2. Редактирование игрока
- Нажмите кнопку "Редактировать" у нужного игрока
- Откроется модальное окно с редактором

#### Добавление режима:
- Выберите режим из списка доступных (Crystal, Mace, Sword, Axe, UHC, Potion)
- Режим добавится с тиром LT1 по умолчанию

#### Изменение тира:
- Выберите нужный тир из выпадающего списка
- Доступные тиры: HT5, LT5, HT4, LT4, HT3, LT3, HT2, LT2, HT1, LT1

#### Удаление режима:
- Нажмите кнопку "Удалить" рядом с режимом

#### Сохранение изменений:
- Нажмите "Сохранить" для применения изменений
- Очки игрока пересчитаются автоматически
- Рейтинг обновится

### 3. Удаление игрока
- Нажмите кнопку "Удалить" у нужного игрока
- Подтвердите удаление

### 4. Экспорт данных
- Нажмите кнопку "Экспорт JSON" в хедере
- Файл `players.json` скачается автоматически
- Это резервная копия на случай проблем

## Автоматическое сохранение

✅ **Все изменения сохраняются автоматически!**

Когда вы:
- Добавляете игрока
- Редактируете игрока
- Удаляете игрока

Данные автоматически сохраняются в:
- `/public/api/players.json`
- `/dist/api/players.json`

После сохранения появится уведомление "✅ Данные успешно сохранены!"

## Важно!

Очки рассчитываются на основе позиции тира:
- HT5: 10 очков
- LT5: 9 очков
- HT4: 8 очков
- LT4: 7 очков
- HT3: 6 очков
- LT3: 5 очков
- HT2: 4 очка
- LT2: 3 очка
- HT1: 2 очка
- LT1: 1 очко

Общий счет игрока = сумма очков всех его режимов

## Важно!

⚠️ **Убедитесь, что API сервер запущен!**

Если вы видите ошибку "❌ Ошибка сохранения данных", проверьте:
1. Запущен ли API сервер (`npm run server` или `npm run dev:all`)
2. Доступен ли http://localhost:3001

## Система подсчета очков

```json
[
  {
    "id": "уникальный_id",
    "username": "имя_игрока",
    "score": 100,
    "rank": 1,
    "kits": {
      "Crystal": "HT1",
      "Sword": "LT2"
    }
  }
]
```

## Доступные режимы (Kits)

- Crystal (Кристалл)
- Mace (Булава)
- Sword (Меч)
- Axe (Топор)
- UHC (UHC)
- Potion (Зелье)

## Тиры (Tiers)

От высшего к низшему:
- HT5 (High Tier 5) - золотой
- LT5 (Low Tier 5) - оранжевый
- HT4 (High Tier 4) - красно-оранжевый
- LT4 (Low Tier 4) - красный
- HT3 (High Tier 3) - розовый
- LT3 (Low Tier 3) - синий
- HT2 (High Tier 2) - бирюзовый
- LT2 (Low Tier 2) - зеленый
- HT1 (High Tier 1) - серый
- LT1 (Low Tier 1) - темно-серый
